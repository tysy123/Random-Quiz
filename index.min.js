var lsQuestion=[],lsRandomDone=[],lsAnswer=[];function getLsIndAnswer(e,s){let n=/[ `!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/,t=[];for(let l=0;l<e.length;l++)switch(s){case 1:!isNaN(parseInt(e[l]))&&n.test(e[l+1])&&t.push(l);break;case 2:0==l&&t.push(l),("A"==e[l]||"B"==e[l]||"C"==e[l]||"D"==e[l])&&l>10&&" "!=e[l+1]&&n.test(e[l+1])&&t.push(l)}return t}function AddQuestion(){var e=$("#input-questions").val();if(e){lsQuestion=[],lsRandomDone=[];let n=getLsIndAnswer(e,1),t=[];if(n.length>0)for(let l=0;l<n.length;l++){var s=e.slice(n[l],n[l+1]);t.push({content:s,ind:l,answer:""})}lsQuestion=[...t],alert("Add list Questions success! thank you")}else alert("Content is not exists, Please import content question! thank you")}function RandomEachQuestion(){if(0==lsAnswer)return void alert("List Answer is not exists.Please import list answer before random question. Thanks");if(0==lsQuestion)return void alert("List Question Random is over. Please AddList again to test. Thanks");$(".total-answers").html(""),$("#A").prop("checked",!0),$(".show-message").html(""),$(".answers").html("");let e=lsQuestion[Math.floor(Math.random()*lsQuestion.length)];lsQuestion=[...lsQuestion.filter((s=>s!=e))];let s=getLsIndAnswer(e.content,2),n=[];if(s.length>0)for(let l=0;l<s.length;l++){var t=e.content.slice(s[l],s[l+1]);n.push(t)}let l={question:n[0],lsAnswer:[n[1],n[2],n[3],n[4]]};lsRandomDone.push({ContentQs:l,ind:e.ind,answer:e.answer}),$(".Random").html(l.question),$("#label-a").html(l.lsAnswer[0]),$("#label-b").html(l.lsAnswer[1]),$("#label-c").html(l.lsAnswer[2]),$("#label-d").html(l.lsAnswer[3]),$(".question").attr("data-question",e.ind)}function ChooseAnswer(){var e=$("input[name='drone']:checked").val(),s=$(".question").attr("data-question");s?(lsRandomDone.find((e=>e.ind==s)).answer=e,console.log(lsRandomDone,"lsRandomDone"),$(".show-message").html("Summit answer success"),setTimeout((()=>{$(".show-message").html("")}),1e3)):alert("Please random question!")}function ShowAnswer(){var e=[...lsRandomDone.filter((e=>""!=e.answer))];if(0==e.length)return void alert("List is empty! Please choose answer for question. And retry click button again Thanks");let s=0,n=0,t="";e.forEach((e=>{let l=lsAnswer.find((s=>s.ind==e.ind)),o=!!e.answer.includes(l.answer);o?s+=1:n+=1,t=`${t} </br> ${e.ContentQs.question}  \n            </br> ${e.ContentQs.lsAnswer[0]}\n            </br>${e.ContentQs.lsAnswer[1]}  \n            </br> ${e.ContentQs.lsAnswer[2]}  \n            </br> ${e.ContentQs.lsAnswer[3]?e.ContentQs.lsAnswer[3]:""} \n            </br> <b>Your answer</b>: <span class='${o?"green":"red"}'>${e.answer} </span>, <b>Right answer: ${l.answer}</b> <br/> ${l.explan}<hr>`}));let l=`<b>TotalCorect: <span style="color:green">${s}</span> </b> <br/> <b>TotalWrong: <span style="color:red">${n}</span> </b>`;$(".answers").html(t),$(".total-answers").html(l)}function AddnewQuestion(){var e=$("#input-questions").val();if(e){lsQuestion=[],lsRandomDone=[];let t=[];var s=e.match(/\d+[\)\)]/g);for(let l=0;l<s.length;l++){var n=e.slice(e.indexOf(s[l]),e.indexOf(s[l+1]));t.push({content:n,ind:l+1,answer:""})}lsQuestion=[...t],console.log(lsQuestion,"lsQuestion"),alert("Add list Questions success! thank you")}else alert("Content is not exists, Please import content question! thank you")}function AddAnswer(){var e=$("#input-answer").val();if(e){let a=[],r=e.match(/\d+[\)\)]/g);for(let i=0;i<r.length;i++){var s=e.slice(e.indexOf(r[i]),e.indexOf(r[i+1])),n=s.indexOf("Explan:"),t=s.indexOf(")"),l=s.slice(n,s.length),o=s.slice(t+1,n).replace("\n","");a.push({explan:l,ind:i+1,answer:o})}lsAnswer=[...a],console.log(lsAnswer,"lsAnswers"),alert("Import List answers success ! Thanks")}else alert("Please Input List Answer! Thanks")}