<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Format Question</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.1/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
  </head>
  <body>
    <div class="row">
      <div class="col">
        Question
        <textarea id="question" rows="10" class="w-100"></textarea>
      </div>
      <div class="col">
        Answer
        <textarea id="input-answer" rows="10" class="w-100"></textarea>
      </div>
    </div>
    <div class="d-flex justify-content-center">
      <button onclick="add()">Submit</button>
      <button class="ml-2" onclick="addFormat()">SubmitFormat</button>
    </div>

    <div class="text-copy"></div>
    <script>
      var lsQuestion = [];
      var ind = 0;
      function addFormat() {
        let Obj = {
          question: "",
          answer: "",
        };
        let question = $("#question").val().split("?");
        if (question && question.length > 0) {
          Obj.question = `${question[0]} ?`;
          console.log(question,"question")
          let answers = question[1].split("\n");
          console.log(answers, "new-answer");
          let an = "";
          if(answers && answers.length == 5)
          {
            an = `<br/>A. ${answers[1]} <br/> B. ${answers[2]} <br/> C. ${answers[3]} <br/> D. ${answers[4]} <br/>`;
          }
          else{
            an = `<br/>A. ${answers[0]} <br/> B. ${answers[1]} <br/> C. ${answers[2]} <br/> D. ${answers[3]} <br/>`;
          }
          Obj.answer = an;
          let rs = `<br /> ${Obj.question} <br/> ${Obj.answer} <br/>`;

          lsQuestion.push(rs);

          $(".text-copy").html(lsQuestion.toString());
        }
      }
      function add(type) {
        let Obj = {
          question: "",
          answer: "",
        };
        ind += 1;
        let question = `${ind})${$("#question").val()}`;
        Obj.question = question;

        var test = $("#input-answer").val().split("\n");
        console.log(test, "test");
        if (test && test.length > 0) {
          console.log(123);
          let an = `<br/>A. ${test[0]} <br/> B. ${test[1]} <br/> C. ${test[2]} <br/> D. ${test[3]} <br/>`;
          Obj.answer = an;
        } else {
          let answer = $("#input-answer").val();
          answer = answer.replace("1", "A. ");
          answer = answer.replace("2", "B. ");
          answer = answer.replace("3", "C. ");
          answer = answer.replace("4", "D. ");
          console.log(answer);
          Obj.answer = answer;
        }

        let rs = `<br /> ${Obj.question} <br/> ${Obj.answer} <br/>`;

        lsQuestion.push(rs);

        $(".text-copy").html(lsQuestion.toString());
      }
    </script>
  </body>
</html>
